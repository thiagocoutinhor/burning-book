<html>

<head>
    <title>Spark Notebook</title>

    <script src="/script/io.js"></script>
    <script src="/script/jquery.js"></script>
    <script src="/script/popper.js"></script>
    <script src="/script/bootstrap.js"></script>
    <script src="/script/d3.js"></script>
    <script src="/script/lexer.js"></script>
    <script src="/script/grammar-scala.js"></script>
    <script src="/script/grammar-retorno.js"></script>
    <script src="/script/font-awesome.js"></script>
    <script src="/script/book.js"></script>

    <link rel="stylesheet" type="text/css" href="/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="/css/book.css"/>

    <script>
        $(document).ready(function() {
            init();
        })
    </script>
</head>

<body>
    <div class="navbar sticky-top">
        <div class="d-flex align-items-center">
            <div class="nav-button mr-2" onclick="voltar()">
                <i class="fa fa-chevron-left"></i>
            </div>
            <div class="navbar-brand nav-button" data-toggle="modal" data-target="#muda-titulo">
                <span class="titulo" data-toggle="tooltip" data-placement="bottom" title="Alterar">
                    Título
                </span>
            </div>
            <div class="connection-status disconnected d-flex align-items-center form-inline">
                <div class="nav-button connection-icon dropdown">
                    <i class="fa fa-wifi"></i>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="#" onclick="disconnect()">
                            <i class="fa fa-power-off"></i>
                            Disconectar
                        </a>
                    </div>
                </div>
                <div class="connect-config input-group input-group-sm ml-1">
                    <div class="input-group-prepend">
                        <div class="input-group-text">Executores</div>
                    </div>
                    <input id="executores" type="number" min="1" class="form-control" value="2"/>
                </div>
                <div class="connect-config input-group input-group-sm ml-1">
                    <div class="input-group-prepend">
                        <div class="input-group-text">Núcleos</div>
                    </div>
                    <input id="nucleos" type="number" min="1" class="form-control" value="2"/>
                </div>
                <div class="connect-config input-group input-group-sm ml-1">
                    <div class="input-group-prepend">
                        <div class="input-group-text">Memória</div>
                    </div>
                    <input id="memoria" type="number" min="1" class="form-control" value="1"/>
                </div>
                <button class="connect-config btn btn-primary btn-sm ml-1" onclick="connect()">
                    Conectar
                </button>
            </div>
        </div>
        <div class="d-flex">
            <div onclick="copyAllCommands()" data-toggle="tooltip" data-placement="bottom" title="Copiar tudo">
                <i class="fa fa-clone mr-2 nav-button"></i>
            </div>
        </div>
    </div>

    <div class="commands">
        <div class="m-3 command-block block-0">
            <div class="card">
                <div class="card-body">
                    <div class="card-title d-flex justify-content-between">
                        <span class="bloco">[Bloco 0]</span>
                        <div class="btn-group dropleft">
                            <button type="button" class="btn" data-toggle="dropdown">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" href="#" onclick="copyCommand(0)">
                                    <i class="fa fa-clone"></i>
                                    Copiar
                                </a>
                                <a class="dropdown-item" href="#" onclick="removeCommand(0)">
                                    <i class="fa fa-trash"></i>
                                    Remover
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="card-text">
                        <div class="command-text" contenteditable="true" onkeydown="characterControl(event)" oninput="editCommand(0, this)">Código aqui</div>
                    </div>

                    <div class="buttons text-right mt-2">
                        <button class="btn btn-primary run-button" disabled onclick="runCommand(0)" data-toggle="tooltip" data-placement="bottom" title="Executar">
                            <span class="spinner-border spinner-border-sm"></span>
                            <span class="run-text"><i class="fa fa-play"></i>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="mr-4 ml-4 recibo">
                <div class="progress">
                    <div class="progress-bar" style="width: 25%;"></div>
                </div>
                Retorno aqui!
            </div>
        </div>
    </div>

    <div class="m-3">
        <button class="new-command" onclick="newCommand()" data-toggle="tooltip" data-placement="top" title="Adicionar Bloco">
            <i class="fa fa-plus"></i>
        </button>
    </div>

    <div class="modal fade" id="muda-titulo">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6>Título</h6>
                </div>
                <div class="modal-body text-left">
                    <input type="text" id="titulo" class="form-control w-100"/>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" onclick="mudarTitulo()" data-dismiss="modal">Alterar</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>